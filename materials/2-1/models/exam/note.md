- [Инфо](#инфо)
- [Машина Шёнфилда](#машина-шёнфилда)
- [Вчислимые на машине Шёнфилда функции](#вчислимые-на-машине-шёнфилда-функции)
- [Простейшие функции и операторы S, R, M](#простейшие-функции-и-операторы-s-r-m)
- [ПРФ и ЧФВ](#прф-и-чфв)
  - [Эквивалентность ЧВФ и вычислимых на Шёнфилде функций](#эквивалентность-чвф-и-вычислимых-на-шёнфилде-функций)
- [Ограниченная минимизация](#ограниченная-минимизация)
- [Примитивно рекурсивные отношения](#примитивно-рекурсивные-отношения)
- [Функции на машинах Шёнфилда](#функции-на-машинах-шёнфилда)
  - [Коды](#коды)
  - [Совместная рекурсия](#совместная-рекурсия)
  - [Регистры и счётчик](#регистры-и-счётчик)
  - [Ещё раз теореме об эквивалентности ЧВФ и вычислимых на Шёнфилде функций](#ещё-раз-теореме-об-эквивалентности-чвф-и-вычислимых-на-шёнфилде-функций)
- [Универсальная функция](#универсальная-функция)
- [Нумерация Кантора](#нумерация-кантора)
- [НЕвычислимые функции](#невычислимые-функции)
- [Множества](#множества)
  - [Сильно вычислимые множества](#сильно-вычислимые-множества)
  - [Вычислимо перечислимые множества](#вычислимо-перечислимые-множества)
  - [Теорема Поста](#теорема-поста)
  - [Теорема об униформизации](#теорема-об-униформизации)
  - [Теорема о редукции](#теорема-о-редукции)
  - [Теорема о графике](#теорема-о-графике)
  - [Универсальные предикаты](#универсальные-предикаты)
  - [Теорема Мучника](#теорема-мучника)
- [Универсальный язык](#универсальный-язык)
  - [Вычислимо отделимые и неотделимые множества](#вычислимо-отделимые-и-неотделимые-множества)
- [Нумерация](#нумерация)
- [Полурешётка (*а это вообще надо?..*)](#полурешётка-а-это-вообще-надо)
- [1-сводимость](#1-сводимость)
- [Цилиндры](#цилиндры)
  - [Эквивалентные утверждения для цилиндрических нумераций](#эквивалентные-утверждения-для-цилиндрических-нумераций)
- [Сводимости для множеств](#сводимости-для-множеств)
  - [Цилиндры для множеств](#цилиндры-для-множеств)
  - [Теорема Майхилла](#теорема-майхилла)
  - [Эквивалентные определения цилиндров](#эквивалентные-определения-цилиндров)
- [Инвариантность](#инвариантность)
- [Простые множества](#простые-множества)
  - [Теорема о существовании простого множества](#теорема-о-существовании-простого-множества)
- [Полные множества](#полные-множества)


# Инфо
- [Лекции прошлых лет](https://drive.google.com/drive/folders/15iKYkDVJR-yGO-eQ-DMXjvYs1m6YACVy) (не сильно отличаются от текущих)
- [Криты от 13шки](https://docs.google.com/document/d/1elSGgSWXKBaqathMS4h1jTJD7G3vZzsYJbiFL-axAaM/edit?usp=sharing)
- [Билеты от 13шки](https://docs.google.com/document/d/14jA0uRz4wOzBdfJh-rPBWKsv_8QAyh8nHPK9bRsu1Zw/edit#heading=h.glzeml3znxk3)


Описывать буду по лекциям, оставляя дополнительные пометки в местах, где идёт ответ на конкретный вопрос (*ну или не буду - как пойдёт*)

# Машина Шёнфилда
Состоит из двух команд:
- `INC I` - увеличивает содержимое регистра `I` и счётчик команд на единицу
- `DEC I, n` - если содержимое регистр `I` больше нуля, уменьшает его на единицу и ставит счётчик команд на позицию `n`, иначе ничего не делает с `I`-м регистром и инкриментирует счётчик команд 

Машина Шёнфилда задаётся:
- Потенциально бесконечным множеством регистров, занумерованных натуральными числами и содержащих натуральные числа. Любая фиксированная машина Шёнфилда работает с конечным числом регистров
- Счётчик команд - особая ячейка памяти, значение которой в начальный момент времени равно нулю
- Программа - конечное множество команд, пронумерованных натуральными числами. **Шаг машины** - выполнение команды в ячейке, равной счётчику команд. Если команды с таким номером нет, программа остановится

Любой обычной команде P может быть сопоставлен **макрос** P*. Макрос может быть использован как отдельная программа. Программа с макросами - **макропрограмма**. Макросы могут пользоваться значениями регистров, но не могут пользоваться номерами строк вне самих себя.

Пример НЕ МАКРОСА `GOTO`:
![](./lec/1_goto.png)

Пример макроса копирования:
![](./lec/1_copy.png)
Здесь мы обнуляем значения J, K, поединично переносим I в J, K, а затем из K также переносим число обратно в I

**Макросы эквивалентны**, если для одинаковых входных данных они дают одинаковые выходные данные или оба не останавливаются

**Т.** Любая макропрограмма эквивалентна некоторой программе без макросов. *Доказывается индуктивным уменьшением количества макросов на единицу с правильной заменой адресов внутри макроса и после него (с учётом вставленных программных строк)*

# Вчислимые на машине Шёнфилда функции
**Частичная числовая функция от n аргументов будет вычислимой на машине Шёнфилда**, если в ячейках i: `1 <= i <= n` хранятся аргументы (**в остальных - нули**), а после выполнения программы P, машина завершится и в нулевой ячейке будет значение функции. Если функция не определена, машина должна работать бесконечно

Функции в машине Шёнфилда удобно использовать через макросы.

# Простейшие функции и операторы S, R, M

**Простейшие функции:**
- `0(x) = 0`
- `SUCC(x) = x + 1`
- $I_m^n(x_1, ..., x_n) = x_m$ - n, m - натуральные (целые и `>= 1`), `m <= n` - функция проекции

**Оператор суперпозиции (`S`)**. Пусть есть частичные функции такие, `h(y1, ..., yM)`, `g1(x1, ..., xN)`, ..., `gM(x1, ..., xN)` и результатом применения оператора суперпозиции к этим функциям назовём функцию `f(x1, ..., xN) = S(h, g1, ..., gM)` такую, что `f(x1, ..., xN) = h(g1(x1, ..., xN), ..., gM(x1, ..., xN))`

**Оператор примитивной рекурсии (`R`)**. Пусть есть частичные функции $g^n(\vec{x})$ и $h^{n+2}(\vec{x}, y, z)$, то результатом применения оператора примитивной рекурсии $R(g, h)$ к этим функциям назовём функции $f^{n+1}$:
$$
\begin{cases}
f(\vec{x}, 0) = g(\vec{x}) \\
f(\vec{x}, y+1) = h(\vec{x}, y, f(y, \vec{x}))
\end{cases}
$$

Примитивная рекурсия для числа $a \in \omega$ и $h(y, z)$ будет определяться проще:
$$
\begin{cases}
f(0) = a \\
f(y+1) = h(y, f(y))
\end{cases}
$$

**Оператора минимизации (`M`)** Принимает функцию $g(\vec{x}, z)$, и возвращает $f(\vec{x})$ такую, что $f(\vec{x}) = y \hArr \forall i < y$ ($g(\vec{x}, i)$ определена и не равна нулю) и $g(\vec{x}, y) = 0$. В противном случае $f$ не определена

$f(\vec{x}) = \mu y (g(\vec{x}, y) = 0)$ - так полностью записывается оператор минимищации

# ПРФ и ЧФВ
Частичная функция f называется **примитивно рекурсивной**, если существует последовательность таких функций $f_1, ..., f_n = f$, что каждая функция либо простейшая, либо вычислима из предыдущих операторами суперпозиции и рекурсии. Говоря иначе, класс ПРФ является замыканием класса простейших функций относительно операторов `S`, `R`. Любая ПРФ всюду определена.

Частичная функция f называется **частично вычислимой**, если существует последовательность таких функций $f_1, ..., f_n = f$, что каждая функция либо простейшая, либо вычислима из предыдущих операторами суперпозиции, рекурсии и минимизации. Говоря иначе, класс ПРФ является замыканием класса простейших функций относительно операторов `S`, `R`, `M`. ЧВФ называется просто **вычислимой**, если она всюду определена

ПРФ $\subset$ ВФ $\subset$ ЧВФ

## Эквивалентность ЧВФ и вычислимых на Шёнфилде функций
**Т.** Любая ЧВФ вычислима на некоторой машине Шёнфилда. *Доказывается через тот факт, что все примитивные функции и операторы S, R, M вычислимы на машине Шёнфилда:*

<img src="./lec/1_shyonfild_f_1.png" width="47%">
<img src="./lec/1_shyonfild_f_2.png" width="47%">

Примитивно рекурсивными будет функции:
- `x + y`
- `x * y`
- `x^y` (`0^0 = 1`)
- `sg(x)`
- `!sg(x)`
- `x -. y`
- `|x - y|`

**Т.** Если функция $g(\vec{x}, y)$ - ЧВФ (ПРФ), то и функции
$$
f(\vec{x}, y) = \sum_{i=0}^y g(\vec{x}, i) \\
h(\vec{x}, y) = \prod_{i=0}^y g(\vec{x}, i) \\
$$
также будут ЧВФ (ПРФ). *Доказывается через тот факт, что и сумма и произведение представимы через оператор примтивной рекурсии*

# Ограниченная минимизация
Функция $f(\vec{x})$ получается из всюду определённых функций $g(\vec{x}, y)$ и $h(\vec{x})$ с помощью ограниченного $\mu$-оператора, если $g(\vec{x}, y) = 0$ и значение $y \le h(\vec{x})$ и $\forall i < y : g(\vec{x}, i) \ne 0$, тогда $f(\vec{x}) = y$

Если $g(\vec{x}, y) \ne 0$ для всех $y \le h(\vec{x})$, то $f(\vec{x}) = h(\vec{x}) + 1$

Записывается ограниченное $\mu$ так:
$$
\mu y \le h(\vec{x})(g(\vec{x}, y) = 0)
$$

*Говоря по-человечески, мы ищем значение не ограниченно далеко вверх, а до какого-то значения, определяемого функцией $h(\vec{x})$. Если условие $g(\vec{x}, y) = 0$ при таких значениях не было удовлетворено, то мы результатом оператора будет $h(\vec{x}) + 1$*

Если $g, h$ - ПРФ, то ограниченная минимизация тоже вернёт ПРФ. *Доказывается через тот факт, что результат ограниченной минимизации представим через:*
$$
f(\vec{x}) = \sum_{i=0}^{h(\vec{x})} sg(\prod_{j=0}^i g(\vec{x}, j))
$$
*А здесь всё ПРФ по доказанному выше*

# Примитивно рекурсивные отношения
Отношение $R \in \omega^n$ называется **вычислимым (примитивно рекурсивным)**, если его характеристическая функция, равняется нулю для любой точки в множестве $R$ и единице для любой точки вне него, примитивно рекурсивна.

Для двух таких отношений определяются операции объединения, пересечения, дополнения и импликации, причём если оба отношения ПР, то и отношение, полученное как результат операций, также будет ПР. *Доказывается через очень тривиально определяемые характеристические функции новых множеств (произвдение хар. функций исходных множеств для объединения и т.п.)*

Также достаточно тривиально определяется декартово произведение двух отношений. И также отношение, образованное этой операцией, будет ПР, если ПР его аргументы.

Отсюда делаем вывод, в частности, для бинарных отношений $=, \ne, <, >, \le, \ge$. В частности, для отношения равенства характеристической функцией будет $sg(|x - y|)$

Суперпозиция для отношений определяется тривиально как суперпозиция для характеристической функции

Для дизъюнктивной последовательности вычислимых отношений и функций можно определить функцию, которая будет возвращать значение $f_i(\vec{x})$ при условии, что $R_i(\vec{x})$. Эта функция также будет вычислима (определяется через сумму произведений !сигнумов над хар. функцией отношений на функции)

Оператор минимизации вводится для отношений через условие равенства характеристической функции нулю (aka принадлежности отношению), причём результат минимизации для ПР отношения будет ЧВФ, а для ПР отношения и ограниченной минимизации - ПРФ.

Определив все эти отношения, можем определить функции для ещё целого ряда операций:

`x div y` - ЧВФ. Деление на ноль не опр.

Если мы используем оператор огр. минимизации, то `x div y` станет ПРФ, но при этом `x div 0 = x`

Доказать, что функции ПРФ:
1. `x mod y`: `f(x, y) = x -. (x div y)*y`
2. $y | x = \exist z \le y (z*x = y)$
3. `prime(x)` - `x` - простое число - $((x > 1) \wedge \forall y \le x (y|x \rarr (y = x) \vee (y = 1)))$
4. `p(x)` - `x`-е простое число
5. `ex(i, x)` - показатель `i`-го просто числа в разложении числа `x`

*Шатал я переписывать эти формулы, так что для них будут просто скрины:*
![](./lec/1_p_and_ex.png)

# Функции на машинах Шёнфилда
*Здесь речь пойдёт о кодировании ВСЕГо в машине Шёнфилда натуральными числами*

## Коды
$code(<x_0, ..., x_{k-1}>)$ - код последовательности, определяется как $code(<x_0, ..., x_{k-1}>) = p_0^{x_0+1} * ... * p_{k-1}^{x_{k-1}+1}$ и $code(<>) = 1$
- В таком случае, если $x$ - код, то $lh(x) = \mu i \le x . (ex(i, x) = 0)$ - длина последовательности
- $(x)_i = ex(i, x) - 1$ - i-я координата кода
- Множество Seq всех кодов является примитивно рекурсивным

Теперь можем определить коды команд:
- `cd(INC i) = code(<0, i>)`
- `cd(DEC i, n) = code(<1, i, n>)`
- Множество Com всех кодов команд примитивно рекурсивно (определяется тривиально через функции для кодов)

Теперь мы можем закодировать программу из $P_0, ..., P_{k-1}$ команд как $code(P) = code(<cd(P_0), ..., cd(P_{k-1})>)$
- Множество Prog всех кодов программ примитивно рекурсивно (определяется через принадлежность координаты множеству Com)

## Совместная рекурсия
$$
f_0(\vec{x}, 0) = g_0(\vec{x}) \\ 
f_1(\vec{x}, 0) = g_1(\vec{x}) \\ 
f_0(\vec{x}, y+1) = h_0(\vec{x}, y, f_0(\vec{x}, y), f_1(\vec{x}, y)) \\ 
f_1(\vec{x}, y+1) = h_1(\vec{x}, y, f_0(\vec{x}, y), f_1(\vec{x}, y)) \\ 
$$
Если $g_0, g_1, h_0, h_1$ - ПРФ, то $f_0, f_1$ - ПРФ.

*Доказывается через тот факт, что мы можем определить функцию $F(\vec{x}, y) = code(<f_0(\vec{x}, y), f_1(\vec{x}, y)>)$, которая будет кодироваться как бы по дереву (ну не хочу я эту безумную формулу выписывать)*

## Регистры и счётчик
Определим 2 функции, описывающими всё состояние определённой машины Шёнфилда:
- `ct(e, x, n)` - возвращает значение счётчика команд после выполнения `n` команд программы с кодом `e` и начальными данными с кодом `x` (то есть $x = code(<x_0, ..., x_{k-1}>) \rArr 0, x_0, ..., x_{k-1}, 0, ..., 0, ...$ - содержимое регистров в начальный момент времени)
- `rg(e, x, n)` - аргументы по смыслу те же - возвращает код регистров $r = code(<r0, ..., r_{e+k-1}>)$
- *Если функциям даны некорректные данные (коды не соответствуют ни одной программе (хотя не уверен, что это возможно)), то обе функции вернут ноль*
- Обе функции - ПРФ

*Последнее утверждение имеет просто монструозное доказательство, поэтому вот несколько скринов:*
![](./lec/2_ct_rg_1.png)
![](./lec/2_ct_rg_2.png)
![](./lec/2_ct_rg_3.png)
*А теперь менее формально:*
- И ту, и другую функцию можно выразить через оператор совместной рекурсии, теперь надо определить `g` и `h`
- `ct` в начальный момент времени равно нулю, `rg` - код регистров вида $0, x_0, ..., x_{k-1}, 0, ..., 0, ...$
- Далее `ct` на `n`-м шаге определяется весьма тривиально через разбор всех возможных случае с разными командами (мы можем получить номер любой команды и понять, что делать, за счёт операций над кодами, которые также ПРФ)
- `rg` на `n`-м шаге также может либо увеличить какой-то регистр на единицу, либо уменьшить, либо не менять ни одного регистра, Проверяя коды, проводим нужные модификации
- Таким образом, функции `ct` и `rg` определились чрез совместную рекурсию с использованием сугубо ПРФ - **доказано**

`stop(e, x, n)` - предикат остановки программы с кодом `e` с входными данными с кодом `x` на шаге `n`. Также ПРФ

Теперь можем определить код вычисления как `y = code(<rg(e, x, 0), rg(e, x, 1), ..., rg(e, x, n)>)` - отсюда мы можем получить результат вычисления, обратившись к нулевой координате последнего элемента - обозначим функцию взятия результата как `U(y)`. Если `e, x` не удовлетворяют `stop(e, x, n)` ни для какого `n`, то код вычисления считаем неопределённым.

**Предикат Клини** $T(e, x_1, ..., x_k, y)$ говорит о том, что программа `e` с начальным кодом `x = code(<x1, ..., xk>)` придёт к коду программы `y`. ПРФ для $k \ge 1$

## Ещё раз теореме об эквивалентности ЧВФ и вычислимых на Шёнфилде функций
Любая частичная функция, вычислимая на Шёнфилде - ЧВФ

Возьмём произвольную функцию, вычислимую на Шёнфилде и произвольные начальные данные $n_1, ..., n_k$:
- Если $f(n_1, ..., n_k)$ определена, то машина остановится. Возьмём минимальный код $y_0$, на котором это произойдёт, тогда $f(n_1, ..., n_k) = U(y_0) = U(\mu y.(T(e, n_1, ..., n_k, y)))$ - а эта функция ЧВФ
- Если $f(n_1, ..., n_k)$ не определена, то $T(e, n_1, ..., n_k, y)$ всегда ложно, а значит и $U(\mu y.(T(e, n_1, ..., n_k, y)))$ не определена

**Теорема Клини о нормальной форме**: существует такая ПРФ `U`, что для любого $k \ge 1$ найдётся ПРО $T_k(e, x_1, ..., x_k, y)$ такое, что: для любой `k`-местнй ЧВФ $\phi$ найдётся $e_0$ для которого имеет место $\phi(x_1, ..., x_k) = U(\mu y.T_k(e_0, x_1, ..., x_k, y))$

**С. 1** Любая ЧВФ может быть получена с помощью операторов S, R, M, причём минимизация используется не более одного раза

# Универсальная функция
Для $k \ge 1$ местных частичных функций, собранных в семейство `S` $k + 1$ местная функция $F$ называется **универсальной для семейства `S`**, если $S = \{ \lambda x_1x_2...x_k . F(e, x_1, ..., x_k) | e \in \omega \}$. Если `S` - семейство всех частичных функций, то $F$ будет называться просто **универсальной**

*Человеческая интерпретация*: универсальной будет называться функция, которая может при подборе одного аргумента образовать любую функцию из множества

Какого бы ни было $k \ge 1$, не существует универсальной ЧВФ (ПРФ) семейства всех k-местных ПРФ. *Доказывается из того факта, что в противном случае у нас существовала бы универсальная функция, обращаемая бы одновременно в $f$ и $s(f)$, что создаёт противоречие*

Какого бы ни было $k \ge 1$, не существует универсальной ЧВФ (ПРФ) семейства всех k-местных ПРФ, принимающих значения 0 или 1. *Доказывается из того факта, что в противном случае у нас существовала бы универсальная функция, обращаемая бы одновременно в $f$ и $!sg(f)$, что создаёт противоречие*

**Т.** Какого бы ни было $k \ge 1$, существует $k + 1$ местная ЧВФ. *Доказывается через существование $U(\mu y.T_k(e_0, x_1, ..., x_k, y))$* (с теми же словами справедливо и для функций, принимающих значения только 0 и 1)

# Нумерация Кантора
Канторовская нумерация определяется ПРФ $C^2(x, y) = \frac{(x + y + 1)(x + y)}{2} + x = \frac{(x + y)^2 + 3x + y}{2}$, отображает $\N^2$ в $\N$ и делает это биективно
- $l(C^2(x, y)) = x$
- $r(C^2(x, y)) = y$
- $C^2(l(x), r(x)) = x$

Рядами в поле таких чисел будут нумероваться по побочным диагоналям, начиная обход с верхнего левого угла.

Количество рядов до точки `(x, y) = x + y`

Сумма точек до ряда с точкой `(x, y) = (x + y + 1)(x + y)/2`

Основной смысл канторовской нумерации в том, что мы можем осуществлять взаимно однозначное соответствие между $\N^2$ и $\N$, что позволяет оперировать нам с парами, как обычными числами. В более общем случае мы можем взаимно отобразить $\N^n$ в $\N$, рекурсивно применяя канторовскую нумерацию к первым двум аргументам:
- $c^1(x) = x$
- $c^n(x_1, ..., x_n) = c^2(c^{n-1}(x_1, ..., x_{n-1}), x_n)$
- Тогда определена также ПРФ $c_{n,i}(c^n(x_1, ..., x_n)) = x_i$

**Л.** Если $\psi$ - k-местная функция и $A \subseteq \omega^k$ - множество, то:
- $\psi$ - ЧВФ $\hArr \psi(c_{n,1}(x), ..., c_{n,n}(x))$ - ЧВФ
- $\psi$ - ВФ $\hArr \psi(c_{n,1}(x), ..., c_{n,n}(x))$ - ВФ
- $\psi$ - ПРФ $\hArr \psi(c_{n,1}(x), ..., c_{n,n}(x))$ - ПРФ
  - *Все 3 утверждения в прямую сторону доказываются тем, что если $\psi$ относится к определённому классу, то оператор суперпозиции на это никак не повлияет. В обратную сторону подставляем на место $x$ k-местную канторовскую нумерацию $c^k(x_1, ..., x_k)$ - новая функция сохранит класс предыдущей и при этом будет равно исходной $\psi$*
- $A$ вычислимо $\hArr c^k(A)$ вычислимо
- $A$ ПР $\hArr c^k(A)$ - ПР
  - *Для этих случае на доказательство для прошлых случаев навешиваем специфику характеристической функции множества - только и всего*

**Л.** Если $\psi$ - унарная функция и $A \subseteq \omega$ - множество, то:
- $\psi$ - ЧВФ $\hArr \psi(c^k(x_1, ..., x_k))$ - ЧВФ
- $\psi$ - ВФ $\hArr \psi(c^k(x_1, ..., x_k))$ - ВФ
- $\psi$ - ПРФ $\hArr \psi(c^k(x_1, ..., x_k))$ - ПРФ
- $A$ вычислимо $\hArr B = \{ <c_{k,1}(x), ..., c_{k,2}(x)> | x \in A \}$ вычислимо
- $A$ ПР $\hArr B = \{ <c_{k,1}(x), ..., c_{k,2}(x)> | x \in A \}$ - ПР
  - *Доказательства что для функций, что для множеств строятся точно также, как и в прошлой лемме*

Как следствие из этих лемм, вот ещё парочка:
- Если $f(x_0, x_1)$ - ЧВФ и $k \ge 1$, тогда $f(x_0, x_1)$ универсальная $\hArr f(x_0, c^k(x_1, ..., x_k))$ универсальна (*доказывается из определения универсальности и прошлых лемм*)
- Если $k \ge 1$ и $f(x_0, x_1, ..., x_k)$ - ЧВФ, тогда $f(x_0, x_1, ..., x_k)$ универсальна $\hArr f(x_0, c_{k,1}(x_1), ... c_{k,k}(x_1))$ универсальна (*доказывается также*)

# НЕвычислимые функции
Какого бы ни было $k \ge 1$, существует всюду определённая k-местная функция, не являющаяся вычислимой.

*Доказательство:* Для доказательства приведём такие одноместные функции (чего вполне достаточно благодаря леммам выше). Пусть $F(x_0, x_1)$ - универсальная ЧВФ для семейства всех унарных ЧВФ, а $X$ - множество таких $e$, что при их применении к $F$ мы получим вычислимые функции, $g : \omega \rarr X$ (биективно). Тогда функция $f(x) = F(g(l(x)), r(x))$ всюду определена. Для вычислимости $f(x)$ надо, чтобы $f(c(x, y))$ была вычислимой, но тогда $F(g(l(c(x, y))), r(c(x, y))) = F(g(x), y)$ была бы вычислимой и универсальной для семейства всех одноместных функций, что противоречит утверждению о несущствовании такой универсальной функции

# Множества
Кроме простой характеристической функции (далее ХФ), есть также частичная. Где обычная функция давала бы единицу, эта функция будет не определена

Множество вычислимо, если вычислима его ХФ

## Сильно вычислимые множества
Последовательность конечных множеств $\{ A_n \}_{n \in \omega}$ называется **сильно вычислимой**, если:
- Вычислимо $\{ <m, n> | m \in A_n\}$
- Одно из следующих условий:
  - $n \rarr |A_n|$ вычислима
  - $n \rarr \max(A_n \cup \{ 0 \})$ вычислима
  - Существует вычислимая функция $f(n)$ такая, что $\forall n,m : (m \in A_n) \rarr (m \le f(n))$ (*выглядит так, будто бы это почти та же функция максимума*)

**Каноническая нумерация**:
$$
\gamma(n) = \begin{cases}
  \emptyset, n = 0 \\
  \{ x_1 < x_2 < ... < x_k \}, n = 2^{x_1} + 2^{x_2} + ... + 2^{x_k}
\end{cases}
$$

Последовательность конечных множеств $\{ A_n \}_{n \in \omega}$ называется **сильно вычислимой**, если существует такая ВФ $f$, что $\forall n : A_n = \gamma(f(n))$

Все 4 вторых условия эквивалентны и выполняются или нет одновременно:
- `1 => 2`: определим вспомогательную ЧВФ $\phi(n, k)$, которая будет возвращать $k$-й элемент множества $A_n$ (рекурсия + минимизация) и $\phi(n, 0) = 0$. Эта функция позволит нам определить $\max(A_n \cup \{ 0 \}) = \phi(n, |A_n|) \rArr \square$
- `2 => 3`: Если взять функцию $f(n) = \max(A_n \cup \{ 0 \})$, то условие будет выполняться $\square$
- `3 => 4`: Если определим функцию, задающую верхнюю границу элементов множеств $g(n)$, а функцию $f(n)$ для аргумента канонической нумерации как сумму степеней двойки принадлежащих множеству элементов, то эта функция сумму будет ВФ
- `4 => 1`: $f(n)$ - та же функция, что и в пункте выше. Принадлежность элемента множеству будет описывать характеристической функцией отрицательного сигнума от остатка деления на 2 всей сумму на $2^m$ - эта функция вычислима. И через эту характеристическую функцию тривиально определяем функцию для возвращения мощности множества

## Вычислимо перечислимые множества
Множество ВПМ, если оно в точности совпадает с ООФ некоторой ЧВФ

Эквивалентные утверждения:
1. $A = \delta \phi$, $\phi$ - ЧВФ
2. $\chi^*_A$ - ЧВФ
3. $A = \rho \phi$, $\phi$ - ЧВФ
4. $A = \emptyset$ или $A = \rho f$, $f$ - ВФ
5. $A$ конечно или $A = \rho f$, $f$ - инъективная ВФ
6. $A = \exist y Q(x, y)$, $Q$ - вычислимый предикат
7. Существует такая сильно вычислимая последовательность, что $\emptyset = A_0 \subseteq A_1 \subseteq A_2 \subseteq ... \subseteq A_s \subseteq A_{s+1} \subseteq \cup_s A_s = A$
8. Существует сильно вычислимая последовательность из пункта выше и дополнительно с условием $\forall s \in \omega : |A_{s+1} - A_s| \le 1$

*Док-ва:*
- `1 => 2` - такая ЧХФ - это буквально та самая ЧВФ из первого условия, на которую навесили $0()$
- `2 => 1` - очевидно, $\delta$ такой ЧХФ даёт нам $A$
- `2 => 3` - из такой ЧХФ легко сделать функцию $\psi(x) = x * s(\chi_A^*(x)) \rArr \rho \psi = \delta \chi_A^* = A$
- `3 => 4` - по теореме Клини, для $\psi(x)$ из прошлого пункта найдутся ПРФ $U$ и $T(x, y)$, отсюда определим:
$$
f_1(x, s) = \begin{cases}
  U(\mu y \le s . T(x, y)), \exist y \le sT(x, y) \\
  x_0, \forall y \le s!T(x, y)
\end{cases}
$$
($x_0 \in A$), отсюда определим $f(x) = f_1(l(x), r(x)) \rArr A = \rho f$
- `5 => 4` - если $A$ бесконечно, то найдётся какая-нибудь ВФ с $\rho f = A$, если $A$ конечно, то через сумму произвдений элементов на сигнумы номеров легко определить функцию с $A = \rho f$
- `4 => 5` - если $A$ бесконечно и $f$ - ВФ с $A = \rho f$, то определив вычислимую $g(x)$ выдающую наименьшие $f$-номера элементов, мы получим $f_0(x) = f(g(x))$, которая будет вычислима, инъективна и $A = \rho f_0$
- `4 => 8`:
  - Если $A = \emptyset$, то сильно вычислимая последовательность определяется тривиально с ХФМ тождественно единицей и $|A_n| = 0$
  - Если есть некая ВФ $f$ с $A = \rho f$, то отношение принадлежности легко определяется через $\exist i < n : m = f(i)$, а $\max(A_n \cup \{ 0 \}) = g(n)$, где $g(n)$ рекурсивно ищет наибольший элемент из всех множеств (хотя выглядит вообще так, будто тут рекурсия не очень нужна)
  - Если $A_0 = \emptyset$, то $\exist i < 0 : m = f(i)$ (*что это за херня?! Как у нас может быть число меньше нуля?..*)
  - $A_s \subseteq A_{s+1}$ - очевидно, что $\forall x \in A_s : x = f(i_j)$ - и те же самые индексы будут для всех тех же элементов и в $A_{s+1}$ 
  - $A_s \subseteq A$ - аналогично
  - $(A \subseteq \cup_s A_s)$ - *тут я не понял, что за дичь написана, поэтому также предлагаю сказать "в силу общих индексов в $f(i)$*
- `8 => 7` - очевидно (забавно, что тут это реально очевидно)
- `7 => 6` - $Q(x, y)$ - тот самый предикат для пар из определения сильно вычислимой последовательности
- `6 => 1` - навешиваем на $Q$ минимизацию и получаем, что $\delta$ это ЧВФ $= A$

Унарные ВПМ и k-местные преобразуются одни в другие по леммам о взаимном преобразовании унарных и k-местных функций за счёт канторовской нумерации

ВМ $\subset$ ВПМ

Операции над ВПМ
- Пересечение и декартово произведение ВПМ - тоже ВПМ (общая $\delta$ - это ООФ композиции их ЧВФ)
- Объединение ВПМ - тоже ВПМ (здесь получим общий предикат $Q$ за счёт $\vee$ между изначальными)
- Проекция ВПМ с минус одной размерностью также будет ВПМ. Доказывается за счёт уменьшения размерности предиката $Q$ при помощи канторовской k-местной нумерации
- Все предикаты $\exist <, \exist \le, \forall <, \forall \le$ - также ВПМ
- Суперпозиция над элементами ВПМ даст также ВПМ
- Отображение ВПМ при помощи ЧВФ даст ВПМ

## Теорема Поста
Пусть $A \subseteq \omega$. Тогда $A$ вычислимо $\hArr A$ и $\overline{A} = \omega \backslash A$ - ВПМ

*Доказательство:*

`=>` следует из того, что вычислимые множества также являются и ВПМ, а также ВМ замкнуты относительно операции дополнения

`<=` предположим, что $A$ и $\overline{A}$ - ВПМ, тогда будут предикаты $A = \exist y Q_0(x, y)$ и $\overline{A} = \exist y Q_1(x, y)$, где $Q_0, Q_1$ - вычислимые. Далее возьмём функцию $f(x)$, которая будет подбирать такой $y$, чтобы он удовлетворял хотя бы одному из предикатов: $f(x) = \mu y (Q_0(x, y) \vee Q_1(x, y))$ - всюду определённая ЧВФ (т.к. $A \cup \overline{A} = \omega$), тогда $x \in A \hArr Q_0(x, f(x)) \rArr \chi_A(x) = \chi_{Q_0}(x, f(x)) \rArr A$ вычислимо

## Теорема об униформизации
Пусть $R \subseteq \omega^{n+1}$ - ВПМ, тогда найдётся $n$-местная ЧВФ $\psi$, униформизующая данный предикат, то есть выполняющая 2 условия:
- $\delta \psi = \exist y : R(x_1, ..., x_n, y)$
- $\Gamma_{\psi} \subseteq R$ (говоря иначе, $\forall <x_1, ..., x_n> \in \delta \psi : R(x_1, ..., x_n, \psi(x_1, ..., x_n))$)

*Попытка в человеческую интерпретацию:* униформизующая функция - это функция, которая позволяет понизить размерность множества на единицу в любой его точке, причём комбинация из её аргументов и значения будет принадлежать изначальному множеству

*Доказательство:*
- Для начала определим эту самую $\psi$. Если $R \subseteq \omega^{n+1}$ - ВП, то и $c^{n+1}(R) \subseteq \omega$ - ВП $\rArr c^{n+1}(R) = \exist y : Q(x, y) \rArr R = \exist y : Q(c^{n+1}(x_1, ..., x_{n+1}), y)$, тогда определим $\psi(x_1, ..., x_n) = l(\mu z . Q(c^{n+1}(x_1, ..., l(z)), r(z)))$ - ЧВФ. Теперь докажем, что она удовлетворяет условиям теоремы
- Определённость $\psi(x_1, ..., x_n)$ при $\exist y : R(x_1, ..., x_n, y)$:
  - `=>` если такая пси определена, то будет такое $z_0$, которое даст нам $y = r(z_0)$, значит $Q(c^{n+1}(x_1, ..., l(z_0)), r(z_0))$, значит $R(x_1, ..., l(z_0))$, а значит $\exist y : R(x_1, ..., x_n, y)$
  - `<=` если $\exist y : R(x_1, ..., x_n, y)$, то $Q(c^{n+1}(x_1, ..., x), y)$, если возьмём а дальше $z = c(x, y)$, а затем подберём минимальное $z_0$ для $Q(c^{n+1}(x_1, ..., l(z)), r(z))$ через минимизацию, то получим в точности $\psi$, которая, следовательно, будет определена
  - *В сущности, выглядит так, будто в обе стороны доказывается фразой "вытекает из определения $\psi$, которое тесно связано со свойством $R = \exist y : Q$*
- *Ну а тут реально доказывается за счёт существования вот этого построения*

## Теорема о редукции
Какими бы ни были ВПМ $A, B$, найдутся такие ВПМ $A_0, B_0$, что:
- $A_0 \subseteq A, B_0 \subseteq B$
- $A_0 \cup B_0 = A \cup B$
- $A_0 \cap B_0 = \emptyset$

*По-человечески:* любые 2 множества могут быть заменены меньшими ли равными множествами так, чтобы новые множества покрывали всю ту же область и не пресекались

*Доказательство:* возьмём множество $R = \{ A \times \{ 0 \} \} \cup \{ B \times \{ 1 \} \}$ (объединим множества в, разделив по номерам источников элементов), а затем определим униформизующую функцию $\psi$, которая по теореме об униформизации найдётся и при том её область определения будет в точности $\exist y : R(x, y) = A \cup B$, а область значений 0 и 1. Обозначим $A_0 = \psi^{-1}(0), B_0 = \psi^{-1}(1)$, тогда $A_0 \cap B_0 = \psi^{-1}(0) \cap \psi^{-1}(1) = \emptyset$, $A_0 \cup B_0 = \delta \psi = A \cup B$, ну а из факта наличия элемента в новых множествах следует (**и только в одну сторону**), что он есть в $R(x, 0)$ либо в $R(x, 1)$ только в случае его наличия в исходных множествах, а значит $A_0 \subseteq A$ и $B_0 \subseteq B$ \rArr \rho \psi_1 = \rho \psi_2 = c^{k+1}(\Gamma_{\psi})
, где $\psi_2$

## Теорема о графике
Пусть $\psi(x_1, ..., x_k)$ - ЧФ. Она будет ЧВФ $\hArr$ $\Gamma_{\psi}$ - ВПМ

*Доказательство:*
- `=>` Пусть $\psi(x_1, ..., x_k)$ - ЧВФ, определим далее ЧВФ $\psi_1(x_1, ..., x_k) = c^{k+1}(x_1, ..., x_k, \psi(x_1, ..., x_k)) \rArr \rho \psi_1 = \rho \psi_2 = c^{k+1}(\Gamma_{\psi})$, где $\psi_2(x) = c^{k+1}(c_{k,1}(x), ..., c_{k,k}(x), \psi(c_{k,1}(x), ..., c_{k,k}(x)))$, отсюда следует, что $c^{k+1}(\Gamma_{\psi})$ - ВПМ - а значит и $\Gamma_{\psi}$ - также ВПМ
- `<=` Если у нас уже есть $\Gamma_{\psi}$ - ВПМ, то по теореме об униформизации найдётся новая k-местный униформизатор, причём ЧВФ, значение которой в силу условия будет равняться $y$, а значит $\psi$ будет равняться униформизатору, из чего следует, что она тоже ЧВФ

## Универсальные предикаты
$k + 1$ местный предикат $R$ называется **универсальным для семейства** $k$-местных предикатов $S$, если $S = \{ \lambda x_1...x_k . R(e_0, x_1, ..., x_k) | e_0 \in \omega \}$. Либо просто **универсальным**, если $S$ - все $k$-местные предикаты.

Какого бы ни было $k \ge 1$, существует универсальный $k + 1$ местный ВП предикат. *Доказывается безумно тривиально через теорему о существовании $k + 1$ местной универсальной ЧВФ*

**С.** Существует ВП, но не вычислимое множество. *Доказательство:* доказывается через взятие последовательности ВП множеств $W_n$ и определение предиката $R = \{ <m, n> | m \in W_n \}$ - универсального бинарного ВП предиката. Из него может быть получена ЧВФ, определяющая ВП $A = \{ n | n \in W_n \}$. Если же мы предположим, что $A$ просто вычислимо, то по Потсу $\overline{A} = \{ n | n \not{\in} W_n \}$ должно быть ВП. Учитывая, что $R$ универсальное, мы можем подобрать $e_0 : \overline{A} = W_{e_0}$, однако тогда приходим к противоречию $e_0 \in W_{e_0} \hArr e_0 \in \overline{A} \hArr e_0 \not{\in} W_{e_0}$ - противоречие. *Дууушно! Думаю, можно просто сказать, что доказывается через взятие последовательности множеств, универсальное множество над ними и теорему Поста*

## Теорема Мучника
Существует бинарный универсальный ВП предикат, универсальный для семейства всех вычислимых множеств (которое воспринимается как подсемейство всех ВП множеств)

*Доказательство:*
- Возьмём ЧВФ $\phi(x_0, x_1)$, универсальную для семейства всех ЧВФ, принимающих значения 0 и 1. Из теоремы о графике следует, что $\Gamma_{\phi}$ - ВПМ $\rArr c^3(\Gamma_{\phi})$ - ВПМ, а значит, по восьмому определению ВПМ будет существовать медленно растущая сильно вычислимая последовательность $A_s$, стремящаяся к $c^3(\Gamma_{\phi})$
- Далее будем строить последовательность $B_n$ со следующими условиями
  - $R = \{ <n, m> | m \in B_n \}$ - ВП
  - Если $\phi_n(x)$, полученная из универсальной $\phi(x_0, x_1)$, то $\phi_n = \chi_{B_n}$
  - Если $\phi_n(x)$ не всюду опр., то $B_n$ конечно
  - Из этих условий следует, что $R$ - универсальный ВП предикат для семейства всех вычислимых множеств
- Ещё одно доп. построение:
  - Введём конечную функцию $\phi_{n,s}$ и $\Gamma_{\phi_{n,s}} = \{ <m, k> | c^3(n, m, k) \in A_s \}$, где $k(n, s)$ возвращает максимальное число, которое больше любого числа из ООФ $\phi_{n,s}$
  - $B_n = \cup_s B_{n,s}$ и $R_s = \cup_n c(\{ n \} \times B_{n,s})$
- А теперь строим *КоНсТрУкЦиЮ*:
  - **Шаг s** - для всех $B_{n,s} = \{ m < k(n,s) | \phi_{n,s}(m) = 0 \}$
  - *В пизду эту хуйню! Потом попытаюсь осознать (в чём я согрешил, видимо...) Ладно, в общем, это примерно стр. 102 из лекции c3*

# Универсальный язык
Язык $L \subseteq (\Sigma_1 \cup \Sigma)^*$ называется **универсальным** для семейства $S \subseteq P(\Sigma^*)$, если $S = \{\{ \beta \in \Sigma^* | \alpha^\beta \in L \} | \alpha \in \Sigma_i^*\}$. *Гхм... Тут я очень осторожен в формулировках, но вроде бы это должно звучать так:* $L$ - универсальный язык для семейства всех подмножеств, если в подмножествах содержатся все возможные постфиксы для всех возможных суффиксов из слов, содержащихся в $L$

*И на этом, блять, об этих языках всё... Зачем я вкуривал в это определение 15 минут?!*

---

Для множества $A \subseteq \omega$ выполняются следующие условия:
- Множество $A$ вычислимо и бесконечно $\hArr$ существует строго возрастающая ВФ, для которой $A$ - область значений (*в прямую сторону доказывается через определение рекурсивной функции, возвращающей по номеру элемент из множества с таким начальным условием (бесконечно и растёт), в обратную сторону легко считается через просто предикат существования и факт строгого возрастания*)
- Множество $A \ne \emptyset$ вычислимо $\hArr$ существует возрастающая ВФ, для которой $A$ - область значений (*если $A$ бесконечно, то см. прошлый пункт, если конечно, то вместо рекурсивно функции определяем её как сумму элементов, помноженных на отрицательные сигнумы, а вот в обратную сторону... Ну давайте я также скажу, что из существования такой функции для бесконечного случая всё считается также, как и в пункте 1, а если функция не строго возрастает, значит $A$ конечно, ок?*)

**Т.** Если $A$ - бесконечное ВПМ, тогда существуют 2 непересекающихся ВПМ, входящие в $A$. *Доказывается* через факт существования инъективной ВФ, для которой $A$ - область значений, а затем определяем 2 функции, которые будут брать лишь чётные и нечётные аргументы для этой функции. Получим также 2 строго возрастающих инъективных ВФ, а значит множества из их ОДЗ также бесконечны и при этом не имеют пересечений в силу инъективности исходной функции.

Если $A$ - бесконечное ВПМ, тогда существует бесконечное ВМ $B \subseteq A$ такое, что $A \backslash B$ бесконечно. *Тривиально доказывается из прошлой теоремы*

ВПМ $A$ называется **максимальным**, если $\forall B : A \subseteq B$ выполняется $|B - A| < \infty$ либо $|\omega - B| < \infty$

## Вычислимо отделимые и неотделимые множества
Непересекающиеся ВПМ $A, B$ называются **вычислимо отделимыми** в случае, когда существует ВМ $C$ такое, что $A \subseteq C \subseteq \overline{B}$ (можно окружить одно из множеств так, чтобы граница не касалась другого множества). В противном случае будет называться **вычислимо неотделимым**. Неотделимая пара ВПМ существует (*например, множества значений для универсальной функции для семейства унарных функций, принимающих значения 0 и 1 - в одно множество вносим все унификаторы для значения 0, в другое - для значения 1*)

**Продолжение ЧВФ $\phi$** - это ВФ $f$ такая, что $\Gamma_{\phi} \subseteq \Gamma_f$

**Т.** Пусть $A$ - ВПМ, $A_s$ - его аппроксимация. Тогда функция $f(x)$ - возвращающая номер первого множества из $A_s$, где появляется $x$ будет иметь продолжение если и только если $A$ вычислимо

**С.** Существует ЧВФ, не имеющая продолжения. *Достаточно взять для прошлой теоремы $A$ ВПМ, но не ВМ*

# Нумерация
**Нумерация** - любое сюрьективное отображение натуральных чисел на непустое не более чем счётное множество $S$. Все нумерации множества обозначаются как $N(S)$

Нумерация $\nu_0$ сводится к нумерации $\nu_1$, если существует $f$ такая, что $\nu_0 = \nu_1 f$ (обозначается как $\nu_0 \le \nu_1$)

$o$ - пустая нумерация

Для ЧУМ $<A_0, \le_0>$ и $<A_1, \le_1>$ $f : A_0 \rarr A_1$ - **изоморфизм**, если:
- $f$ биективно
- $\forall a,c \in A_0 : a \le_0 c \hArr f(a_0) \le_1 f(c)$

Через нумерацию $\nu$ можно определить отношение эквивалентности, делящее множество $S$ на $|S|$ классов: $\eta_{\nu} = \{ <n, m> | \nu(n) = \nu(m) \}$, тогда мы можем ввести понятия для нумерации $\nu$:
- **однозначная**: $\nu(n) = \nu(m) \hArr n = m$
- **Разрешимая**: $\eta_{\nu}$ вычислима
- **Позитивная**: $\eta_{\nu}$ - ВПМ
- **Разрешимая**: $\omega^2 \backslash \eta_{\nu}$ - ВПМ

1. Любая однозначная нумерация разрешима
2. Любая разрешимая нумерация однозначна, позитивна и негативна (по Посту)

# Полурешётка (*а это вообще надо?..*)
**Верхняя полурешётка** - ЧУМ $<X, \le>$, если для любой пары существует точная верхняя грань

**Нижняя полурешётка** - ЧУМ $<X, \le>$, если для любой пары существует точная нижняя грань

**Решётка** - ЧУМ с обеими точными гранями. Например, любое ЛУМ

Любая конечная верхняя полурешётка с наименьшим элементом является решёткой

*Судя по вопросам, это вообще не надо... Ладно, хотя бы времени на них не много потратил*

# 1-сводимость
Нумерация $\nu_0$ **1-сводится** к нумерации $\nu_1$, если существует инъективная ВФ $f$ такая, что $\forall n \in \omega : \nu_0(n) = \nu_1 f(n)$ (обозначается как $\nu_0 \le_1 \nu_1$)

Нумерации $\nu_0$ и $\nu_1$ **вычислимо изоморфны**, если существует вычислимая перестановка $p$ такая, что $\forall n \in \omega : \nu_0(n) = \nu_1 p(n)$ (обозначается как $\nu_0 \approx \nu_1$)

**Т.** $\nu_0 \le_1 \nu_1 \wedge \nu_1 \le_1 \nu_0 \rArr \nu_0 \approx \nu_1$

*Доказательство:*
- Из условия следует, что есть такие $f$, $g$, что $\nu_0(x) = \nu_1 f(x)$ и $\nu_1(x) = \nu_0 g(x)$, определим теперь рекурсивные функции $h_0, h_1$, которые будут первым аргументом применять $x$, а вторым $t$, а далее $t$ раз применять к $x$ сначала $f$, потом $g$ и, соответственно, наоборот. Из этого определения следует, что $\forall t \in \omega : \nu_0(x) = \nu_0 h_0(x, t) \wedge \nu_1(x) = \nu_1 h_1(x, t)$, $S_0, S_1$ - множества функций $h_0, h_1$ соответственно со всеми возможными значениями $t$
- Теперь дополнительная лемма:
  - **Л.** Если $S_0(x)$ (либо $S_1(x)$) - конечное множество, тогда $S_1(f(x))$ (либо $S_0(g(x))$) - также конечное множество, имеющее столько же элементов, и наоборот.
  - Кроме того, если $y$ таково, что $S_0(x) \cap S_0(y) \ne \emptyset$ (либо $S_1(x) \cap S_1(y) \ne \emptyset$), то $S_0(x) = S_0(y)$ (либо $S_1(x) = S_1(y)$), в частности, $S_0(x) = S_0(gf(x))$ (либо $S_1(x) = S_1(fg(x))$)
  - *Доказательство:*
    - В силу того, что $f, g$ инъективны, $h_0, h_1$ также инъективны. Если $S_0$ конечно, то для конкретного $x$ оно будет состоять из $k + 1$ элемента. За счёт инъективности $f, g$, получаем $fg(f(x)) = f(gf(x)) = x$, а значит, $S_1(f(x))$ также будет состоять из $k + 1$ элемента, а отображение $y \rarr f(y)$ взаимно однозначно сопоставляет $S_0(x)$ и $S_1(f(x))$ (версия в скобках доказывается аналогично)
    - Теперь пусть у нас будет такое $y$, что $z \in S_0(x) \cap S_0(y)$, значит повторённая $0 \le y_0 \le k$ раз композиция $gf$ отображает $x$ в $z$. Отсюда получаем, что применённая $k+1$ раз к $x$ либо $k + 1 - y_0$ раз к $z$ композиция $gf$ даёт нам $x \in S_0(y)$ (*каким, сука, образом, мы этот вывод сделали?!*) $\rArr S_0(x) \subseteq S_0(y)$
    - $S_0(y)$ конечно, далее, пусть $z = (gf)^{z_0}(y)$, тогда $S_0(y) = \{ (gf)^i(y) | 0 \le i \le z_0 \} \cup S_0(z) \subseteq \{ (gf)^i(y) | 0 \le i \le z_0 \} \cup S_0(x)$, а из того, что $S_0(y)$ конечно, следует, что $z_1 > z_0$ такое, что $(gf)^{z_1}(y) = y$ ввиду строгой периодичности, из чего следует, что $y = (gf)^{z_1 - z_0}(z) \in S_0(x)$ (*и что это доказывает?.. Ладно, может быть что-то и доказывает...*)
- Возвращаемся к основной теореме: будем строить множество пар $M = \{ <n, m> \}$ такое, что:
  - $\forall n : \exist ! m : <n, m> \in M$
  - $\forall m : \exist ! n : <n, m> \in M$
  - $\forall <n,m> \in M : \nu_0 n = \nu_1 m$
  - *По человечески, это, наверное, должно звучать так: $M$ содержит все пары, причём их первые и вторые элементы по отдельности уникальны, а вместе эти элементы первой и второй нумерацией отображаются в один и тот же элемент*
- На каждом шаге в сильную аппроксимацию множества $M$ под названием $M_t$ будет добавляться не более одной пары, причём:
  - Если $2n < t$, то будет единственное $m$ такое, что $<n, m> \in M_t$
  - Если $2n + 1 < t$, то будет единственное $m$ такое, что $<m, n> \in M_t$
  - Если $<m, n> \in M_t$, то $n \in S_1(f(m))$ или $m \in S_0(g(n))$ (из этого условия и следует, что $\nu_0 m = \nu_1 n$)
- Шаг $0$: $M_0 = \emptyset$
- Шаг $t = 2n + 2$: 
  - если в $M_{2n + 1}$ имеется пара вида $<m, n>$, то $M_{2n + 2} = M_{2n + 1}$
  - если подходящей пары нет для всех $m$, тогда находим $t_0 = \mu t(\forall x : <h_0(g(n), t), x> \not{\in} M_{2n + 1})$ и добавляем пару из-под минимизации в $M_{2n + 1}$, получая $M_{2n + 2}$, причём за счёт дополнительной леммы, доказанной выше и природы множеств $S_0, S_1$ $t_0$ будет найдено всегда (иначе возникнет противоречие условию о единственности пары)
- Шаг $t = 2n + 1$
  - если в $M_{2n}$ имеется пара вида $<n, m>$, то $M_{2n + 1} = M_{2n}$
  - в противном случае ищем $t_0$ похожим на прошлый шаг образом: $t_0 = \mu t(\forall x : <x, h_1(f(n), t)> \not{\in} M_{2n})$ и добавляем пару из-под минимизации
- Шаг $t = \omega \rArr M \cup_t M_t$
- Ввиду выполнения условий построения, будут выполнены условия на вид множества $M$, которая за счёт этих условий будет $\Gamma_p$, которая ($p$) всюду определена и вычислима в силу того, что $M$ - вп. При этом $p$ будет перестановкой натурального ряда, а в силу третьего условия, $\nu_0 = \nu_1 p$, из чего и следует, что $\nu_0 \approx \nu_1$

# Цилиндры
**Цилиндром** нумерации $\nu$ называется нумерация $c(\nu) : \omega \rarr S$ для которой $c(\nu)(c(x, y)) = y$ либо, что то же самое $c(\nu)(x) = \nu(r(x))$ (*да-да! Так круто, что для обозначения изменнения нумерации используется та же буква, что и для канторовской функции...*)

Нумерация будет **цилиндрической**, если она вычислимо изоморфна своему цилиндру

Если $\nu_0, \nu_1$ - две нумерации и существует вычислимая $f$, сводящая $\nu_0$ к $\nu_1$ и при том $\rho f = \omega$, тогда $\nu_0 = \nu_1$. *Доказывается буквально через определение сводимости и возможность подобрать $g$ для сводимости в другую сторону за счёт ОДЗ $f$*

Для однозначных нумераций если $\nu_0 \le_1 \nu_1 \rArr \nu_1 \le_1 \nu_0 \rArr \nu_0 \approx \nu_1$

Какова бы ни была нумерация $\nu$: $\nu \le_1 c(\nu) \le \nu$, в частности $\nu \equiv c(\nu)$ (*ВФ $\lambda x.c(0, x)$ инъективна и сводит $\nu$ к $c(\nu)$, а $r(x)$ - ВФ и сводит $c(\nu)$ к $\nu$*)

Существуют эквивалентные, но не вычислимо изоморфные нумерации (если $\nu$ - однозначная нумерация счётного множества, то $\nu \equiv c(\nu)$). Всязая нумерация, вычислимо изоморфная однозначной, также будет однозначной, но $c(\nu)$ - не однозначная $\rArr \nu \not{\approx} c(\nu)$

## Эквивалентные утверждения для цилиндрических нумераций
Следующие утверждения эквивалентны:
- $\nu$ - цилиндрическая нумерация
- $\exist$ ВФ такая, что $\forall x : (f(x) > x) \wedge (\nu(f(x)) = \nu x)$
- $\forall \nu' : (\nu' \le \nu) \rarr (\nu' \le_1 \nu)$

*Доказательства:*
- `1 => 2` - из цилиндричности нумерации следует существование перестановок $p_1, p_2$ таких, что $\nu = c(\nu)p_1$ и $c(\nu) = \nu p_2$, тогда определим $f(x) = p_2(c(z, rp_1(x)))$, где $z$ будет подбираться минимизацией так, чтобы значение $f(x)$ было больше $x$. В силу того факта, что это канторовская нумерация, такое число будет найдено, а значит $f(x)$ вычислима, в силу определения, $\nu f = \nu p_2(c(z, rp_1(x))) = c(\nu)(c(z, rp_1(x))) = \nu r p_1(x) = c(\nu) p_1(x) = \nu x$
- `2 => 3` - определим сводящую функцию $g$ и сплинтер $F$ над функцией $f$, а дполнительно ещё и рекурсивную $h$, которая при нуле будет просто возвращать все сведённые элементы, применяя к ним сплинтер. В силу такого опрделения функций и полученное из пункта 2 функции $f$, $h$ будет инъективна, из чего следует, что $\nu' \le \nu \rarr \nu' \le_1 \nu$
- `3 => 1` - просто берём $\nu'$ как $c(\nu)$, функцией для $c(\nu) \le_1 \nu$ будет $r(x)$, а для $\nu \le_1 c(\nu)$ - $\lambda x . c(0, x)$ - из чего по определению и следует цилиндрическая нумерация

**С.** Всякий цилиндр является цилиндрической нумерацией (*по второму свойству из списка выше берём $f(x) = c(s(l(x)), r(x))$ - нетрудно заметить, что её значение будет всегда больше $x$, а $c(\nu)(x) = \nu r x = c(\nu)(f(x)) = c(\nu)(c(s(l(x)), r(x))) = c(\nu)(r(x)) = \nu r x$*)

# Сводимости для множеств
$A, B \in \omega$

$A$ **m-сводится** к $B$, если существует ВФ $f$ такая, что $x \in A \hArr f(x) \in B$. Обозначается $A \le_m B$

Если $A \le_m B$ и $B \le_m A$, то $A \equiv_m B$ (**m-эквивалентны**)

**1-сводятся** - $f$ вдобавок инъективна

**Вычислимая изморфность** *определяется аналогично через вычислимую перестановку с учётом замены записи на принадлежность множествам*

## Цилиндры для множеств
Множество $A \subseteq \omega$ называется **цилиндром** если $A$ и $c(\omega \times D)$ вычислимо изоморфны для некоторого $D \subseteq \omega$

$A$ - **цилиндрификация** множества $B$, если $A = c(\omega \times B)$

Некоторые замечания о свойствах множеств:
- $A \le_m B \hArr \chi_A \le \chi_B$
- $A \equiv_m B \hArr \chi_A \equiv_m \chi_B$
- $A \le_1 B \hArr \chi_A \le_1 \chi_B$
- $A \approx B \hArr \chi_A \approx \chi_B$
- $A$ - цилиндр $\hArr \chi_A$ - цилиндрическая нумерация
- $A$ - цилиндрификация $B \hArr \chi_A = c(\chi_B)$

## Теорема Майхилла
Если $A \le_1 B$ и $B \le_1 A$, то $A \approx B$ (*доказывается из примечаний выше и аналогичной теоремы для нумераций из [этого блока](#1-сводимость)*)

## Эквивалентные определения цилиндров
Следующие утверждения эквивалентны:
- $A$ - цилиндр
- $\exist$ ВФ такая, что $\forall x : (f(x) > x) \wedge (x \in A \hArr f(x) \in A)$
- $\forall B : (B \le_m A) \rarr (B \le_1 A)$

*Доказываются из замечаний выше и аналогичной [теоремы для нумераций](#эквивалентные-утверждения-для-цилиндрических-нумераций)*

# Инвариантность
Свойство $P$ над всеми возможными подмножествами $\omega$ **вычислимо инвариантно**, если $P(A) \hArr P(\pi(A))$, где $\pi$ - вычислимая перестановка. 

Инвариантным не будет, например, наличие элемента $x$, зато будет свойство размера, вычислимости, ВП, цилиндричности

Свойство инвариантности замкнуто относительно операций отрицания, конъюнкции, дизюнкции.

# Простые множества
Множество $A$ **иммунно**, если оно бесконечно и не содержит в качестве подмножества бесконечное ВПМ (*Забавный логичный факт - если $A$ иммунно, то оно не может быть ВПМ*)

ВПМ с иммунным дополнением называются **простыми**

Свойства иммунности и простоты инвариантны

## Теорема о существовании простого множества
Простые множества существуют

*Доказательство 1:*
- Будем строить простое множество $S$ через сильную аппроксимацию $S_t$. Пусть $W_n$ - такая последовательность ВП множеств, что $R = \{ <n, m> | m \in W_n \}$ - универсальный ВП предикат. Пусть также $B_s$ - сильная аппроксимация $c(R)$, причём на каждом шаге добавляется не более одного числа и $W_{n,s} = \{ m | c(m, n) \in B_s \}$ для всех $n, s \in \omega$
- Шаг $0$ - $S_0 = \emptyset$
- Шаг $t + 1$ - ищем наименьшее число $m \le t$ такое, что $W_{m, t+1} \cap S = \emptyset \wedge \exist x : (x \in W_{m, t+1} \wedge x > 2m)$
  - Если такое $m$ существует, то добавляем к $S_t$ число $s_{m, t+1} = \min \{ x \in W_{m, t+1} | x > 2m \}$
  - Если такого $m$ не существует, то переходим к следующему шагу. 
- Из построения следует $S$ - ВПМ, а из-за условия $W_{m, t+1} \cap S = \emptyset$ следует, что из отрезка $[0, 2m]$ в $S$ будет добавлено не более чем $m$ чисел, поэтому $\overline{S}$ бесконечно
- Для доказательства иммунности $\overline{S}$ надо доказать, что если $A$ - бесконечное ВПМ, то $A \cap S \ne \emptyset$ (*то есть это бесконечное ВПМ не будет подмножеством дополнения к $S$*)
  - Введём множество $N_A = \{ m | W_m = A \}$ (*номера всех множеств, равных $A$*) и $t_A = \min \{ t | \exist x,m : (m \in N_A) \wedge (x \in W_{m,t}) \wedge (x > 2m) \}$ (*подбираем минимальный шаг построения, на котором в множестве содержится $x$ более чем в 2 раза больший, чем подобранный номер $W$*) и также сохраняем подобранный $m$ как $m_A$
  - Если $W_{m_A, t_A} \cap S_{t_A + 1} \ne \emptyset$, то $W_{m_A} \cap S = A \cap S \ne \emptyset$
  - Если же $W_{m_A, t_A} \cap S_{t_A + 1} = \emptyset$, то $W_{m_A, t_A + m_A + 1} \cap S_{t_A + m_A + 2} \ne \emptyset \rArr W_{m_A} \cap S = A \cap S \ne \emptyset$
- Из этого следует, что $S$ - ВПМ с иммунным дополнением

*Доказательство 2:*
- Также возьмём последовательность $W_s$ и универсальный придикат $C = \{ <n, m> | m \in W_n \}$, тогда бинарный предикат $R(n, m) = [(m \in W_n) \wedge (m > 2n)]$ будет ВП
- Далее возьмём ЧВФ $\phi$, униформизующую предикат $R$. Докажем, что $B = \rho \phi$ - простое
  - $B$ - ВПМ в силу определения
  - $\overline{B}$ бесконечно, т.к. $\phi(n) > 2n$, а значит число значений на отрезке $[0, 2n]$ конечно
  - $B$ бесконечно в силу бесконечности $\rho \phi$, вытекающей из универсальности предиката $C$ и бесконечности $\delta \phi$ (*не совсем понятно, зачем этот пункт вообще нужен, ну ладно...*)
  - Если $D$ - бесконечное ВПМ, то $B \cap D \ne \emptyset$: в силу универсальности $C$, можем найти $D = W_{n_0}$, отсюда существует $m_0 \in D : m_0 > 2m_0$, а значит $\phi(n_0)$ опр. и лежит в $D$, но $\rho \phi$ образует $B$, а значит $\phi(n_0) \in B \cap D \ne \emptyset$

# Полные множества
ВПМ $M$ называется **m-полным**, если $\forall A$ ВПМ $: A \le_m M$

**1-полное** множество определяется аналогично

Любые 2 1-полных множества вычислимо изоморфны

