- [Инфо](#инфо)
- [24.02.12 - семинар](#240212---семинар)
- [24.02.14 - лекция](#240214---лекция)
  - [Подробнее про уровни OSI](#подробнее-про-уровни-osi)
    - [Физический уровень](#физический-уровень)
    - [Уровень физической адресации](#уровень-физической-адресации)
- [24.02.22 - лекция](#240222---лекция)
    - [Уровень сетевой адресации](#уровень-сетевой-адресации)
- [24.02.26 - семинар](#240226---семинар)
- [24.02.28 - лекция](#240228---лекция)
  - [Практика по OSI-2-3](#практика-по-osi-2-3)


# Инфо
Лектор - Гаранин Александр

Семинарист - Валерий Владимирович Павлов - +79139389393

[Наталья и Виктор Олифер, "Компьютерные сети"](https://moodle.iae.nsk.su/int_networks_23/ol6.pdf)

# 24.02.12 - семинар
Сетевой мост - внешний DHCP сервер будет выделять нам отдельный IP-адрес (в частности, позволит нам с хоста подключаться к виртуальной машине)

NAT - хост будет восприниматься как маршрутизатор (*не уверен, что верно понял суть*)

Для установки дополнительного ПО:
- Подключаем диск от VB
- Запускаем терминал из-под суперпользователя
- Исполняем `.sh` скрипт, который лежит на диске

Серые IP-адреса (немаршрутизируемые) - адреса вида:
- `10.0.0.0/8` (маска `255.0.0.0`)
- `172.16.0.0/16` (маска `255.255.0.0`)
- `192.168.0.0/24` (маска `255.255.255.0`)

*Советует почитать статью про IPv4 на Википедии*

# 24.02.14 - лекция
[Ссылка на актуальную версию лекции](https://docs.google.com/document/d/1mhas-FCinx5firKdvqY3spbkAhwRe0jrDJZBjkPxn4Q/edit)

Модели TCP/IP и OSI - абстракции, которые описывают взаимодействие между машиной компьютерами по сети

TCP/IP устроена несколько проще

*Вместо десятка слов пусть будет картинка:*
![](./materials/osi-and-tcpip.jpg)

## Подробнее про уровни OSI

### Физический уровень
Работа со средой

Витая пара (например, UTP - unshielded twisted pair), могут отличаться по качеству меди. Самый стандартный - cat5e. На концах кабеля присоединяются разъёмы (например, 8p8c - 8 проводов, 8 контактов). Если кабель с двух сторон имеет такие (или похожие) разъёмы, то кабель будет называться **патчкордом**

Радиоэфир - самый популярны протокол Wi-Fi (также называется IEEE 802.11xx, где `xx` - одна или несколько букв)

Оптический кабель - дорогая штука для использования в домах, однако вот уже дома к общим узлам, а тем более передача данных на большие расстояния происходит уже через них

---

Полученные с этого уровня биты на более высоких уровнях интерпретируются в определённые символы, но до высшего уровня дойдут не все из них - на переходе на более высокий уровень будут читаться, а затем убираться заголовки, говорящие о том что делать с этими данными. То есть реализуется механизм **инкапсуляции**


### Уровень физической адресации
Основной протокол ethernet ([IEEE 802.3](https://moodle.iae.nsk.su/int_networks_23/IEEE-802.3-2012.pdf)). Здесь находятся MAC-адреса

![](./materials/24-02-14%20-%20ethernet.png)

В самом простом случае информация тут состоит из MAC-адреса адресата, отправителя и тип следующего уровня OSI

Главная функция - физическая адресация

# 24.02.22 - лекция
### Уровень сетевой адресации
Здесь находятся IP-адреса (IPv4, IPv6) - адреса, необходимые для маршрутизации

**Маска** - позволяет выделить пространство адресов из всего их множества (примеры масок смотри с семинара)

**"Серый" (локальный) IP** - опять же, ничего особо нового не узнал, кроме того, что сети серых адресов бывают вложенные (*ничего удивительного на самом деле, на середине лекции задумался об этом и понял, что иначе было бы адресов слииишком мало*)

Главная функция этого уровня - логическая адресация

# 24.02.26 - семинар
MAC-адреса не выходят за пределы локальной сети

DHCP-сервер - Dynamic host control protocol - ведёт учёт зарегистрированных в сети машин (то есть их локальные адреса)

# 24.02.28 - лекция
## Практика по OSI-2-3
`ip a` - показать доступные сетевые интерфейсы 

На одной сетевой карте можно установить МНОГО IP-адресов с разными (*а точно ли?*) масками подсети (*очевидно, хотя это и не говорилось, кроме настроек через комп для сетевой карты, нужны будут ещё какие-то действия*)
- На Винде заходим для этого в настройки интернет
- В Линуксе ищем конфиги интерфейсов в `/etc/network/interfaces` (*но ни на серваке, ни на WSL я такого не нашёл... А вот на Debian он есть*)
  - `ifup <interface_name>` - запустить интерфейс
  - `ifdown <interface_name>` - выключить интерфейс

В маршрутизаторе есть 2 сетевых интерфейса: один отвечает за связь локальных устройств с маршрутизатором (**LAN**, подписывается в настройках как default gateway), а другой - за связь маршрутизатора с глобальной сетью (**WAN**) (зачастую, с сетью провайдера)

Механизм работы всех маршрутизаторов заключается в том, что при обращении к внешним адресам, наш компьютер будет обращаться к LANу маршрутизатора, тот к LANу провайдера и так может быть много раз, но механизм, начиная с провайдера, сильно сложнее

Зачастую локальные IP-адреса, default gateway и все прочие параметры получаются устройствами в сети автоматически, благодаря DHCP-серверу

ARP - Address resolution protocol - позволяет по IP-адресу узнать MAC-адрес устройства. Для этого посылается запрос по всей локальной сети, в котором говорится, что источник хочет пообщаться с таким-то IP, владелец этого IP шлёт в ответ отправителю свой MAC.
- `arp` - посмотреть ARP-кэш
  - `ip neigh` - то же самое (`arp` у меня не работала ни на одной машине Линуксовой)
- `ip -s neigh flush all` - сброс ARP-кэша

Коммутатор работает только на уровне физической адресации. Позволяет общаться через свои порты разным устройствам, сопоставляя портам разные адреса. Устройство безумно примитивное - просто хранит таблицу, сопоставляющую порты и MAC-адреса