<!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>22215 форевер</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Oswald&display=swap" rel="stylesheet">
  <style>
    body {
      margin: 5% 10%;
      font-family: "Oswald", sans-serif;
    }
  </style>
</head>

<body>
  <header>
    <h1>Конспект за первый курс новго потока ФИТ НГУ</h1>
    <h2>Дизайн завезу потом <i>(может быть)</i></h2>
  </header>
  <hr>
  <main>
    <blockquote>
      ОФФТОП: Лучше всего скачивать конспекты и читать через VS Code с расширением Markdown: All in One
      <br>
      Другой удобный вариант, смотреть матриалы через <a href="https://github.com/KozlovKV/conspects-sharing-repo">страничку проекта на Гитхабе</a> (там .md файлы сразу отображаются отформатированными)
    </blockquote>
    <ul id="conspects">
    </ul>
  </main>
  <hr>
  <footer>
    2022, Козлов Кирилл (<a href="https://github.com/KozlovKV">github</a>)
  </footer>
  <script>
    function createShowHideBtn(allConspId) {
      let btn = document.createElement("button");
      btn.textContent = "Показать конспект полностью";
      btn.addEventListener("click", () => {
        let allConsp = document.getElementById(allConspId);
        if (allConsp.style.display == "none") {
          allConsp.style.display = "block";
        } else {
          allConsp.style.display = "none";
        }
      });
      return btn;
    }

    const pathPrefix = "./src/materials/1/"
    function createConspectListElem(fileName, humanName) {
      let listBlock = document.getElementById("conspects");
      let ListElem = document.createElement("li");
      let path = pathPrefix + fileName;
      let allConspId = "all_" + fileName;
      ListElem.innerHTML = `
        <b>${humanName}</b>
        <a download href="${path}">Скачать</a>
        <hr>
        <iframe id="${allConspId}" src="${path}" width="100%" height="100%" style="display: none" frameborder="0"></iframe>
      `;
      ListElem.appendChild(createShowHideBtn(allConspId));
      listBlock.appendChild(ListElem);
    }

    let data = [
      {path: "digital_platforms/konsp.md", name: "Цифровые платформы"},
      {path: "english/konsp.md", name: "Английский"},
      {path: "declarative/konsp.md", name: "Haskell"},
      {path: "imperative/konsp.md", name: "Си"},
      {path: "math_analyze/konsp.md", name: "МатАн"},
    ]
    data.forEach(element => {
      createConspectListElem(element.path, element.name);
    });
  </script>
</body>

</html>